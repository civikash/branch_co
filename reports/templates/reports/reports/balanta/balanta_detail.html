{% extends 'app.html' %}
{% load custom_filters %}
{% block privind_detail %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>
        
    {% if message.tags == 'success'%}
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z" fill="#05CE98"/>
        </svg>
        
    {% else %}
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21.76 15.92L15.36 4.4C14.5 2.85 13.31 2 12 2C10.69 2 9.49998 2.85 8.63998 4.4L2.23998 15.92C1.42998 17.39 1.33998 18.8 1.98998 19.91C2.63998 21.02 3.91998 21.63 5.59998 21.63H18.4C20.08 21.63 21.36 21.02 22.01 19.91C22.66 18.8 22.57 17.38 21.76 15.92ZM11.25 9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V14C12.75 14.41 12.41 14.75 12 14.75C11.59 14.75 11.25 14.41 11.25 14V9ZM12.71 17.71C12.66 17.75 12.61 17.79 12.56 17.83C12.5 17.87 12.44 17.9 12.38 17.92C12.32 17.95 12.26 17.97 12.19 17.98C12.13 17.99 12.06 18 12 18C11.94 18 11.87 17.99 11.8 17.98C11.74 17.97 11.68 17.95 11.62 17.92C11.56 17.9 11.5 17.87 11.44 17.83C11.39 17.79 11.34 17.75 11.29 17.71C11.11 17.52 11 17.26 11 17C11 16.74 11.11 16.48 11.29 16.29C11.34 16.25 11.39 16.21 11.44 16.17C11.5 16.13 11.56 16.1 11.62 16.08C11.68 16.05 11.74 16.03 11.8 16.02C11.93 15.99 12.07 15.99 12.19 16.02C12.26 16.03 12.32 16.05 12.38 16.08C12.44 16.1 12.5 16.13 12.56 16.17C12.61 16.21 12.66 16.25 12.71 16.29C12.89 16.48 13 16.74 13 17C13 17.26 12.89 17.52 12.71 17.71Z" fill="#F1F3F5"/>
            </svg>
            
    {% endif %}           
    {{ message }}</li>
        {% endfor %}
</ul>
{% endif %}
<section class="raport__body">
    <form method="POST" class="flex column gap-1">
        {% csrf_token %}
    <div class="raport__title">
        <h1>SITUAȚIILE FINANCIARE
        </h1>
        <span>pentru perioada - de lichidare</span>
    </div>
    
    <div class="raport__information">
        <ul>
            <li>Entitatea:
                <div class="lid">EMPLOMARIN S.R.L.</div>
            </li>
        </ul>
        <ul>
            <li>Cod CUIÎO:
                <div class="lid">EMPLOMARIN S.R.L.</div>
            </li>
            <li>Cod IDNO:
                <div class="lid">1011600042584</div>
            </li>
            <ul>Sediul:</ul>
            <li>MD:
                <div class="lid"></div>
            </li>
            <li>Raionul(municipiul):
                <div class="lid"></div>
            </li>
            <li>Cod CUATM:
                <div class="lid">1008600045376</div>
            </li>
            <li>Strada:
                <div class="lid"></div>
            </li>
            <li>Activitatea principală:
                <select>
                </select>
            </li>
            <li>Forma de proprietate:
                <select>
                </select>
            </li>
            <li>Forma organizatorico-juridică:
                <select>
                </select>
            </li>
            <ul>Date de contact:</ul>
            <li>Telefon:
                <div class="lid"></div>
            </li>
            <li>WEB:
                <div class="lid"></div>
            </li>
            <li>E-mail:
                <div class="lid"></div>
            </li>
            <li>Numele și coordonatele al contabilului-șef:
                <div class="lid"></div>
            </li>
            <li>Numărul mediu al salariaților în perioada de gestiune: 
                <div class="lid"></div>
            </li>
            <li>Persoanele responsabile de semnarea situațiilor financiare*
                <div class="lid"></div>
            </li>
        </ul>
    </div>
    <div class="raport__title">
        <h1>BILANŢUL
        </h1>
        <span>la______{% if request.user.is_superuser %}{{ data_1.la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_1" value="{{ data_1.la|default:''|date:'d.m.Y' }}" id="data_1">{% endif %}_________        </span>
    </div>
    <div class="raport__title">
        {% if request.user.is_superuser %}
        {% else %}
    {% endif %}
    </div>
    <div class="header-table">
            </div>
            <div class="raport__title">
                <span class="left__marg">Anexa 1
                </span>
                </div>
    <table cellspacing="0" cellpadding="5" border="1">
        <thead>
            <tr>
                <th rowspan="2">Nr. cpt.</th>
                <th rowspan="2">Indicatori</th>
                <th rowspan="2">Cod rd.</th>
                <th colspan="3">Sold la</th>
            </tr>
            <tr>
                <th rowspan="1">La începutul trimestrului de raportare</th>
                <th rowspan="1">La finele trimestrului de raportare</th>
            </tr>
            <tr>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
            </tr>
        </thead>
        <tbody>
            {% for row in header %}
            <tr>
                {% if row.crt %}
                <td {% if row.rowspan %}rowspan="{{ row.rowspan }}"{% endif %} class="txt-c w-1">{{ row.crt }}
                    {% comment %} <input class="w-full tb-input" type="hidden" value="{{ row.crt|default:"" }}" step="any" name="code_rind_{{ row.code }}" id="code_rind_{{ row.code }}"> {% endcomment %}
                </td>
                {% endif %}
                <td {% if row.colspan %}colspan="{{ row.colspan }}"{% endif %} class="txt-l w-2">{{ row.indicatorii|default:"" }}
                    <input class="w-full tb-input" type="hidden" value="{{ row.indicatorii|default:"" }}" step="any" name="indicatori_1_{{ row.code }}" id="indicatori_1_{{ row.code }}">
                </td>
                {% if  not row.colspan %}
                <td class="txt-c w-3">{{ row.code_rind|default:"" }}
                    <input class="w-full tb-input" type="hidden" value="{{ row.code_rind|default:"" }}" step="any" name="code_rind_1_{{ row.code }}" id="code_rind_1_{{ row.code }}">
                </td>
                
                <td class="txt-c w-4{% if row.blocked_inceputul %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.inceputul|floatformat:"1"|stringreplace }}
                    {% else %}
                   <input {% if row.blocked_sfirsitul == True %}readonly="readonly" {% endif %} class="w-full tb-input" type="text" value="{{ row.inceputul|floatformat:"1"|stringreplace }}" step="any" name="inceputul_1_{{ row.code }}" id="inceputul_{{ row.code }}">
                    {% endif %}
                </td>

                <td class="txt-c w-4 {% if row.blocked_sfirsitul %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.sfirsitul|floatformat:"1"|stringreplace }}
                    {% else %}
                    
                    <input {% if row.blocked_sfirsitul == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.sfirsitul|floatformat:"1"|stringreplace }}" step="any" name="sfirsitul_1_{{ row.code }}" id="finele_{{ row.code }}">
                    {% endif %}
                </td>
                {% endif %}
            </tr>
        {% endfor %}

        </tbody>
    </table>
    <div class="raport__title">
    <h1>
        SITUAŢIA DE PROFIT ŞI PIERDERE
</h1>
<span>de la___{% if request.user.is_superuser %}{{ data_2.de_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_2" value="{{ data_2.de_la|default:''|date:'d.m.Y' }}" id="data_2">{% endif %}_____
    pînă la__{% if request.user.is_superuser %}{{ data_2.pina_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_3" value="{{ data_2.pina_la|default:''|date:'d.m.Y' }}" id="data_3">{% endif %}_______
   
   </span>
</div>
    <div class="raport__title">
        <span class="left__marg">Anexa 2</span>
        </div>
<table cellspacing="0" cellpadding="5" border="1">
    <thead>
        <tr>
            <th rowspan="2">Indicatori</th>
            <th rowspan="2">Cod rd.</th>
            <th colspan="2">Perioada de gestiune</th>
        </tr>
        <tr>
            <th rowspan="1">precedenta</th>
            <th rowspan="1">curenta</th>
        </tr>
        <tr>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
        </tr>
    </thead>
    <tbody>
        {% for row in item_1 %}
        <tr>
            {% if row.crt %}
            <td {% if row.rowspan %}rowspan="{{ row.rowspan }}"{% endif %} class="txt-c w-1">{{ row.crt }}
                <input class="w-full tb-input" type="hidden" value="{{ row.crt|default:"" }}" step="any" name="code_rind_{{ row.code }}" id="code_rind_{{ row.code }}">
            </td>
            {% endif %}
            <td {% if row.colspan %}colspan="{{ row.colspan }}"{% endif %} class="txt-l w-2">{{ row.indicatorii|default:"" }}
                <input class="w-full tb-input" type="hidden" value="{{ row.indicatorii|default:"" }}" step="any" name="indicatori_2_{{ row.code }}" id="indicatori_1_{{ row.code }}">
            </td>
            {% if  not row.colspan %}
            <td class="txt-c w-3">{{ row.code_rind|default:"" }}
                <input class="w-full tb-input" type="hidden" value="{{ row.code_rind|default:"" }}" step="any" name="code_rind_2_{{ row.code }}" id="code_rind_{{ row.code }}">
            </td>
            
            <td class="txt-c w-4{% if row.blocked_inceputul %} gray-td{% endif %}">
                {% if request.user.is_superuser %}
                {{ row.precedenta|floatformat:"1"|stringreplace }}
                {% else %}
               <input {% if row.blocked_sfirsitul == True %}readonly="readonly" {% endif %} class="w-full tb-input" type="text" value="{{ row.precedenta|floatformat:"1"|stringreplace }}" step="any" name="precedenta_1_{{ row.code }}" id="precedenta_1_{{ row.code }}">
                {% endif %}
            </td>

            <td class="txt-c w-4 {% if row.blocked_sfirsitul %} gray-td{% endif %}">
                {% if request.user.is_superuser %}
                {{ row.curenta|floatformat:"1"|stringreplace }}
                {% else %}
                
                <input {% if row.blocked_sfirsitul == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.curenta|floatformat:"1"|stringreplace }}" step="any" name="curenta_1_{{ row.code }}" id="curenta_1_{{ row.code }}">
                {% endif %}
            </td>
            {% endif %}
        </tr>
    {% endfor %}

    </tbody>
</table>   
<div class="raport__title">
<h1>
    SITUAŢIA MODIFICĂRILOR CAPITALULUI PROPRIU
</h1>
<span>de la___{% if request.user.is_superuser %}{{ data_3.de_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_4" value="{{ data_3.de_la|default:''|date:'d.m.Y' }}" id="data_4">{% endif %}_____
    pînă la__{% if request.user.is_superuser %}{{ data_3.pina_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_5" value="{{ data_3.pina_la|default:''|date:'d.m.Y' }}" id="data_5">{% endif %}_______
   
   </span>
</div>
<div class="raport__title">
    <span class="left__marg">Anexa 3</span>
    </div>
    <table cellspacing="0" cellpadding="5" border="1">
        <thead>
            <tr>
                <th rowspan="1">Nr. d/o</th>
                <th rowspan="1">Indicatori</th>
                <th rowspan="1">Cod rd</th>
                <th rowspan="1">Sold la începutul perioadei de gestiune</th>
                <th rowspan="1">Majorări</th>
                <th rowspan="1">Diminuări</th>
                <th rowspan="1">Sold la sfîrşitul perioadei de gestiune</th>
            </tr>
            <tr>

            </tr>
            <tr>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
                <th>7</th>
            </tr>
        </thead>
        <tbody>
            {% for row in item_2 %}
            <tr>
                {% if row.crt %}
                <td {% if row.rowspan %}rowspan="{{ row.rowspan }}"{% endif %} class="txt-c w-1">{{ row.crt }}
                    <input class="w-full tb-input" type="hidden" value="{{ row.crt|default:"" }}" step="any" name="code_rind_{{ row.code }}" id="code_rind_{{ row.code }}">
                </td>
                {% endif %}
                <td {% if row.colspan %}colspan="{{ row.colspan }}"{% endif %} class="txt-l w-2">{{ row.indicatorii|default:"" }}
                    <input class="w-full tb-input" type="hidden" value="{{ row.indicatorii|default:"" }}" step="any" name="indicatori_3_{{ row.code }}" id="indicatori_3_{{ row.code }}">
                </td>
                {% if  not row.colspan %}
                <td class="txt-c w-3">{{ row.code_rind|default:"" }}
                    <input class="w-full tb-input" type="hidden" value="{{ row.code_rind|default:"" }}" step="any" name="code_rind_3_{{ row.code }}" id="code_rind_3_{{ row.code }}">
                </td>
                
                <td class="txt-c w-4{% if row.blocked_inceputul %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.inceputul|floatformat:"1"|stringreplace }}
                    {% else %}
                   <input {% if row.blocked_inceputul == True %}readonly="readonly" {% endif %} class="w-full tb-input" type="text" value="{{ row.inceputul|floatformat:"1"|stringreplace }}" step="any" name="inceputul_3_{{ row.code }}" id="inceputul_3_{{ row.code }}">
                    {% endif %}
                </td>
        
                <td class="txt-c w-4 {% if row.blocked_majorari %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.majorari|floatformat:"1"|stringreplace }}
                    {% else %}
                    
                    <input {% if row.blocked_majorari == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.majorari|floatformat:"1"|stringreplace }}" step="any" name="majorari_3_{{ row.code }}" id="majorari_3_{{ row.code }}">
                    {% endif %}
                </td>
                <td class="txt-c w-4 {% if row.blocked_diminuari %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.sfirsitul|floatformat:"1"|stringreplace }}
                    {% else %}
                    
                    <input {% if row.blocked_diminuari == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.diminuari|floatformat:"1"|stringreplace }}" step="any" name="diminuari_3_{{ row.code }}" id="diminuari_3_{{ row.code }}">
                    {% endif %}
                </td>
                <td class="txt-c w-4 {% if row.blocked_sfirsitul %} gray-td{% endif %}">
                    {% if request.user.is_superuser %}
                    {{ row.sfirsitul|floatformat:"1"|stringreplace }}
                    {% else %}
                    
                    <input {% if row.blocked_sfirsitul == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.sfirsitul|floatformat:"1"|stringreplace }}" step="any" name="sfirsitul_3_{{ row.code }}" id="sfirsitul_3_{{ row.code }}">
                    {% endif %}
                </td>
                {% endif %}
            </tr>
        {% endfor %}
        
        </tbody>
</table> 
<div class="raport__title">
<h1>
    SITUAŢIA FLUXURILOR DE NUMERAR
</h1>
<span>de la___{% if request.user.is_superuser %}{{ data_4.de_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_6" value="{{ data_4.de_la|default:''|date:'d.m.Y' }}" id="data_6">{% endif %}_____
    pînă la__{% if request.user.is_superuser %}{{ data_4.pina_la|default:'' }}{% else %}<input required class="input-width-2" type="text" maxlength="10" name="data_7" value="{{ data_4.pina_la|default:''|date:'d.m.Y' }}" id="data_7">{% endif %}_______
   
   </span>
</div>
<div class="raport__title">
    <button class="save button blue" type="submit">Сохранить</button>
    <span class="left__marg">Anexa 4</span>
    </div>
<table cellspacing="0" cellpadding="5" border="1">
<thead>
    <tr>
        <th rowspan="2">Indicatori</th>
        <th rowspan="2">Cod rd.</th>
        <th colspan="2">Perioada de gestiune</th>
    </tr>
    <tr>
        <th rowspan="1">precedenta</th>
        <th rowspan="1">curenta</th>
    </tr>
    <tr>
        <th>1</th>
        <th>2</th>
        <th>3</th>
        <th>4</th>
    </tr>
</thead>
<tbody>
    {% for row in item_3 %}
    <tr>
        {% if row.crt %}
        <td {% if row.rowspan %}rowspan="{{ row.rowspan }}"{% endif %} class="txt-c w-1">{{ row.crt }}
            <input class="w-full tb-input" type="hidden" value="{{ row.crt|default:"" }}" step="any" name="code_rind_{{ row.code }}" id="code_rind_{{ row.code }}">
        </td>
        {% endif %}
        <td {% if row.colspan %}colspan="{{ row.colspan }}"{% endif %} class="txt-l w-2">{{ row.indicatorii|default:"" }}
            <input class="w-full tb-input" type="hidden" value="{{ row.indicatorii|default:"" }}" step="any" name="indicatori_4_{{ row.code }}" id="indicatori_4_{{ row.code }}">
        </td>
        {% if  not row.colspan %}
        <td class="txt-c w-3">{{ row.code_rind|default:"" }}
            <input class="w-full tb-input" type="hidden" value="{{ row.code_rind|default:"" }}" step="any" name="code_rind_4_{{ row.code }}" id="code_rind_4_{{ row.code }}">
        </td>
        
        <td class="txt-c w-4{% if row.blocked_precedenta %} gray-td{% endif %}">
            {% if request.user.is_superuser %}
            {{ row.precedenta|floatformat:"1"|stringreplace }}
            {% else %}
           <input {% if row.blocked_precedenta == True %}readonly="readonly" {% endif %} class="w-full tb-input" type="text" value="{{ row.precedenta|floatformat:"1"|stringreplace }}" step="any" name="precedenta_4_{{ row.code }}" id="inceputul_{{ row.code }}">
            {% endif %}
        </td>

        <td class="txt-c w-4 {% if row.blocked_curenta %} gray-td{% endif %}">
            {% if request.user.is_superuser %}
            {{ row.curenta|floatformat:"1"|stringreplace }}
            {% else %}
            
            <input {% if row.blocked_curenta == True %}readonly="readonly" {% endif %}class="w-full tb-input" type="text" value="{{ row.curenta|floatformat:"1"|stringreplace }}" step="any" name="curenta_4_{{ row.code }}" id="curenta_4_{{ row.code }}">
            {% endif %}
        </td>
        {% endif %}
    </tr>
{% endfor %}

</tbody>
</table>   
    
</form>
</section>
{% endblock privind_detail %}